
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimalist Cart</title>
    <link rel="shortcut icon" href="//cdn.shopify.com/s/files/1/0410/9608/5665/files/Minimalist_Favicon-min_32x32.png?v=1646335623" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/min/tiny-slider.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/tiny-slider.css">
    <link rel="stylesheet" href="css/cart.css">
</head>
<body>
    <div id="myOverlay" class="overlay">
        <div id = "InputCloseBox">
            <div class = "overlay-content">
                <button id = "SubmitSearchInput"><i class="fa fa-search"></i></button>
                <input id = "SearchInput" type="Search" placeholder="Search Our Store....">
            </div>
            <span class = "closebtn" onclick="closeSearch()" title = "Close Overlay">x</span>
        </div>
    </div>
    <div id = "NavbarContainer">
        <div id = "navbar">
            <div id = "LogoBox">
                <div onclick="GoToHomePage()" id = "HomeIcon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-house-door-fill" viewBox="0 0 16 16">
                        <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z"/>
                    </svg>
                </div>
                <div id = "WebsiteNameBox">minimalist_</div>
            </div>
            <div id = "MiddleBox">
                <div onclick="GoToHomePage()" class = "Middle">Home</div>
                <div onclick="concernpage()" class = "Middle">Concern</div>
                <div onclick="OurProductPage()" class = "Middle">Our Product</div>
                <div onclick="knowleadgepage()" class = "Middle">Knowleadge</div>
                <div onclick="TrackerOrder()" class = "Middle">Tracker Order</div>
            </div>
            <div id = "LoginSignUpBox">
                <div onclick="LoginSignUpPage()" class = "LoginSignUp">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-person-bounding-box" viewBox="0 0 16 16">
                        <path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z"/>
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                    </svg>
                </div>
                <div id = "SearchIcon" onclick="openSearch()" class = "LoginSignUp"><i class="fa fa-search"></i></div>
                <div onclick="MinimalistAddToCartPage()" id = "AddToCart" class = "LoginSignUp">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
                        <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <% if(Carts.length != 0){%>
    <div id = "CartProductContainer">
        <div id = "CartProductSubContainer">
            <div id = "CartHeading">Cart</div>
            <div id = "CartProduct">
                <div id= "ProductDetailsHeading">Product Details</div>
                <div id = "QyantityHeading">Qunatity</div>
                <div id = "TotalHeading">Total</div>
            </div>
            <div id = "CartProductShow">
                <% Carts.map(function(element){%>
                    <div class="EachProductContainer">
                        <div class = "EachProduct">
                            <div class="EachProductImageBox">
                                <img class = "EachProductImage" src="<%= element.productId.Image.Image1 %>" alt="">
                            </div>
                            <div class="EachProductDetailsBox">
                                <div class="EachProductTitle"><%= element.productId.ChemicalUnit %></div>
                                <div class="EachProductRemoveButton">₹ : <%= element.productId.Price %></div>
                                <div class="EachProductRemoveButton" onclick="removeItem(`<%= JSON.stringify(element)%>`)">Remove</div>
                            </div>
                        </div>
                        <div class = "EachProductQyantity">
                            <select class="select_qty" onchange="getquantity(this.value , `<%= JSON.stringify(element)%>`)" >
                                <option value="1"><%=element.quantity%></option>
                                <% if(element.quantity != 1){%>
                                <option value="1">1</option>
                                <%}%> <% if(element.quantity != 2){%>
                                <option value="2">2</option>
                                <%}%> <% if(element.quantity != 3){%>
                                <option value="3">3</option>
                                <%}%> <% if(element.quantity != 4){%>
                                <option value="4">4</option>
                                <%}%> <% if(element.quantity != 5){%>
                                <option value="5">5</option>
                                <%}%> <% if(element.quantity != 6){%>
                                <option value="6">6</option>
                                <%}%> <% if(element.quantity != 7){%>
                                <option value="7">7</option>
                                <%}%> <% if(element.quantity != 8){%>
                                <option value="8">8</option>
                                <%}%> <% if(element.quantity != 9){%>
                                <option value="9">9</option>
                                <%}%> <% if(element.quantity != 10){%>
                                <option value="10">10</option>
                                <%}%>
                            </select>
                        </div>
                        <div class = "EachProductTotal">
                            <%= "₹"+(+element.productId.Price * element.quantity)+".00"%>
                        </div>
                    </div>
                <% })%>
            </div>
            <div id = "SubTotalCheckOutContainer">
                <div id = "SubTotalContainer"><%= sum %></div>
                <div id = "TaxHeading">Shipping, taxes, and discount codes calculated at checkout.</div>
                <div id = "CheckoutContainer">
                    <div onclick="Update()" id = "UpdateCartContainer">Update</div>
                    <div onclick="CheckOut()" id = "CheckOutButtonContainer">Check Out</div>
                </div>
            </div>
        </div>
    </div>
    <%} else {%>
        <div id="cartempty">
            <h1>Your Shopping Cart Is Empty</h1>
            <a style="font-size: 1.5vw;" href="/ourproduct/mains">Please Add Some Product</a>
        </div>
    <%}%>
    <div id = "Footercontainer">
        <div class="footer-1">
            <div class="footr-text">
                <div class="text-area">
                    <div class="logo">
                        <a href="#link">
                            <img src="https://cdn.shopify.com/s/files/1/0410/9608/5665/files/minimalist-logo-white-new_x20@2x.png?v=1606032887" alt="" class="a-img">
                        </a>
                    </div>
                    <div class="logo-2">
                        <div class="logo-1">
                            <a href="#link">
                                <img src="https://toppng.com/uploads/preview/facebook-logo-black-11549681824hmcxyqtxds.png" alt="" class="image">
                            </a>
                        </div>
                        <div class="logo-1">
                            <a href="#link">
                                <img src="https://i.pinimg.com/originals/c6/2c/05/c62c055ede6aadbb1f94a555071c98b9.jpg" alt="" class="image">
                            </a>
                        </div>
                    </div>
                </div>
                <div class="text-area">
                    <div class="mid-tex">
                        <p class="text-01">ABOUT</p>
                    </div>
                    <div class="mid-tex">
                        <a href="#link" class="link">Our values</a><br>
                        <a href="#link" class="link">Privacy policy</a><br>
                        <a href="#link" class="link">Terms & conditions</a><br>
                    </div>
                </div>
                <div class="text-area">
                    <div class="mid-tex">
                        <p class="text-01">HELP</p>
                    </div>
                    <div class="mid-tex">
                        <a href="#link" class="link">Knowledge</a><br>
                        <a href="#link" class="link">FAQs</a><br>
                        <a href="#link" class="link">Return & refund policy</a><br>
                        <a href="#link" class="link"> Contact us</a><br>
                        <a href="#link" class="link">Track order</a><br>
                    </div>
                </div>
                <div class="text-area">
                    <div class="mid-tex">
                        <p class="text-01">SIGN UP AND SAVE</p>
                    </div>
                    <div class="mid-tex">
                        <p class="link">
                            Subscribe to get special offers, free giveaways, and once-in-a-lifetime deals.
                        </p>
                        <div class="box1">
                            <div class="div">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQXmTSdwx7aEKX5HoBTvAlYubZ9bIOpysS0gA&usqp=CAU" alt="" class="image-1">
                            </div>
                            <div id="div1">
                                <input type="text" placeholder="Enter your email" class="input">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-logo">
                <div id="footer-logo-1">
                    <div class="img">
                        <img src="https://mir-s3-cdn-cf.behance.net/project_modules/fs/30455c9384889.57ee562a4fba0.jpg" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://flyclipart.com/thumb2/american-express-amex-billing-credit-card-payment-shop-icon-500339.png" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://cdn.techjockey.com/web/assets/images/techjockey/products/11424_Freecharge-logo.jpg" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://assets.mspimages.in/wp-content/uploads/2021/07/GooglePay_Lockup.max-1200x1200-1.png" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://yt3.ggpht.com/ytc/AKedOLSvIBDFtbGRhKxpIQvtcLCrCa75ldfziwEVgJG5=s900-c-k-c0x00ffffff-no-rj" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://www.pngitem.com/pimgs/m/265-2655326_mobikwik-wallet-icon-hd-png-download.png" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://securecdn.pymnts.com/wp-content/uploads/2020/01/Score-Card-Company-Image-22.png" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://aniportalimages.s3.amazonaws.com/media/details/Paytm_apr28.jpg" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://skyllme.com/wp-content/uploads/2019/10/unnamed.jpg" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://www.sundayguardianlive.com/wp-content/uploads/2019/10/rupay.jpg" alt="Na" class="image">
                    </div>
                    <div class="img">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpc6dS_7YcmRbnP5ztdomyriQje2m4rWdXSWds18YLMbboByoGOOglpiRTb2NqeKMBZv0&usqp=CAU" alt="Na" class="image">
                    </div>
                </div>
                <div class="footer-text">
                    <P class="text"> © 2022 Minimalist</P>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<!-- <script src="scripts/cart.js"></script> -->
<script>
function removeItem(product) 
{
    console.log('product:', product)
    var product = JSON.parse(product);
    let id = product._id;
    fetch("/cart/" + id, 
    {
      method: "DELETE",
    })
    .then((res) => 
    {
        return res.json();
    })
    .then((res) => console.log(res));
    window.location.reload();

}

function getquantity(quantity, product) 
{
    var product = JSON.parse(product);
    let id = product._id;
    fetch("/cart/" + id, 
    {
      method: "PATCH",
      headers: 
      {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        quantity,
      }),
    })
    .then((res) => 
    {
        return res.json();
    })
    .then((res) => console.log(res));
    window.location.reload();
}

function openSearch()
{
    document.querySelector("#NavbarContainer").style.zIndex = "0";
    document.querySelector("#myOverlay").style.display = "block";
}
function closeSearch()
{
    document.querySelector("#NavbarContainer").style.zIndex = "1";
    document.querySelector("#myOverlay").style.display = "none";
}

function OurProductPage()
{
    window.location.href = "/ourproduct/mains";
}
function GoToHomePage()
{
    window.location.href = "/index";
}
function MinimalistAddToCartPage()
{
    console.log(1);
    window.location.href = "/cart";
}
function LoginSignUpPage()
{
    console.log(1);
    window.location.href = "/login";
}
function concernpage()
{
    window.location.href = "/concern";
}
function knowleadgepage()
{
    window.location.href = "/knowledge";
}
function TrackerOrder()
{
    window.location.href = "/tracker";
}
function Update()
{
    window.location.href = "/cart";
}
function CheckOut()
{
    window.location.href = "/checkoutpage"
}
</script>